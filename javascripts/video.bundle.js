!function(e){function t(t){for(var o,s,i=t[0],c=t[1],l=t[2],d=0,_=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&_.push(n[s][0]),n[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);for(u&&u(t);_.length;)_.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],o=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=r[0]))}return e}var o={},n={5:0},a=[];function s(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=o,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(r,o,function(t){return e[t]}.bind(null,o));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;a.push([686,0]),r()}({10:function(e,t,r){"use strict";(function(e){r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return m})),r.d(t,"t",(function(){return g})),r.d(t,"m",(function(){return O})),r.d(t,"k",(function(){return D})),r.d(t,"w",(function(){return E})),r.d(t,"f",(function(){return w})),r.d(t,"j",(function(){return U})),r.d(t,"i",(function(){return M})),r.d(t,"a",(function(){return T})),r.d(t,"q",(function(){return I})),r.d(t,"r",(function(){return L})),r.d(t,"o",(function(){return S})),r.d(t,"n",(function(){return A})),r.d(t,"e",(function(){return k})),r.d(t,"g",(function(){return R})),r.d(t,"B",(function(){return B})),r.d(t,"v",(function(){return x})),r.d(t,"C",(function(){return W})),r.d(t,"h",(function(){return N})),r.d(t,"l",(function(){return le})),r.d(t,"z",(function(){return ue})),r.d(t,"A",(function(){return de})),r.d(t,"x",(function(){return me})),r.d(t,"s",(function(){return fe})),r.d(t,"y",(function(){return pe})),r.d(t,"u",(function(){return he})),r.d(t,"p",(function(){return _e})),r.d(t,"d",(function(){return Ee}));r(46);var o,n=r(22),a=r.n(n),s=r(17),i=r.n(s),c=r(11);(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(3)).enterModule)&&o(e);var l,u,d="https://www.awesomescreenshot.com",_="http://awe.diigo.cn/api/v1",m="https://www.awesomescreenshot.com/api/v1",f="https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",p="https://upload.box.com/api/2.0/files/content",h=i.a.create({baseURL:m});function g(e){var t=new URLSearchParams;return t.append("mail",e.email),t.append("password",e.password),i()({method:"post",url:d+"/user/loginCommit?from=chrome_extension",data:t})}function E(e,t,r,o,n){var a=new URLSearchParams;return a.append("name",e),a.append("image",t),a.append("bgColor",o),a.append("project_id",r),i()({method:"post",url:d+"/extensionUpload",data:a,onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);n(t)}})}function b(e,t){var r=new URLSearchParams;return r.append("image",e),r.append("img_id",t),i()({method:"POST",url:d+"/annotationUpload",data:r})}function w(e){var t=new URLSearchParams;return t.append("name",e),i()({method:"post",url:d+"/createProject?from=chrome_extension",data:t})}function D(){return i()({method:"get",dataType:"json",url:d+"/getProjectListFromExtension"})}function v(){return Object(c.n)(d,"screenshot_personal_fullname")}function P(){return Object(c.n)(d,"screenshot_personal_type")}function O(){return Object(c.n)(d,["screenshot_personal_fullname","screenshot_personal_type","screenshot_personal_mail","screenshot_peronal_premium_level"]).then((function(e){if(e.length){var t={};return e.forEach((function(e){t[e.name]=e})),{username:decodeURI(t.screenshot_personal_fullname.value),type:t.screenshot_personal_type.value,mail:t.screenshot_personal_mail.value,premiumLevel:t.screenshot_personal_premium_level?t.screenshot_personal_premium_level.value:""}}return null}))}function j(){return h({method:"GET",url:"/loginfortest",params:{uid:924920}})}function y(){var e=new URLSearchParams;return e.append("mail","luo.kobe@gmail.com"),e.append("password","111111"),i()({method:"POST",url:"user/loginCommit",data:e})}function U(e){return h({method:"GET",url:"/account/auth",params:{service:e,from:"extension"}})}function M(e){return h({method:"GET",url:"/account/load/resource",params:e})}function T(e,t,r,o,n,a){return h({method:"POST",url:"/destination/add",data:{accountID:e,resourceID:r,privacy:n,resourceName:o,resourceType:t,info:a}})}function I(e){return h({method:"POST",url:"/account/share_screenshot",data:e})}function L(e){return h({method:"POST",url:"/account/share_video",data:e})}function C(e){return h({method:"POST",url:"/account/save_screenshot",data:e})}function S(){return h({method:"GET",url:"/destination/load"})}function A(){return h({method:"GET",url:"/account/load"})}function k(e){return h({method:"POST",url:"/destination/image/create",data:e})}function R(e){return h({method:"POST",url:"video/upload_init",data:e})}function B(e,t,r){var o=new FormData;for(var n in e)o.append(n,e[n]);var a=r||"https://awesomescreenshot.s3.amazonaws.com/";return i()({method:"POST",crossdomain:!0,url:a,data:o,onUploadProgress:function(e){var r=Math.round(100*e.loaded/e.total);t(r)}})}function x(e){return h({method:"GET",url:"/destination/image/upload_done",params:{key:e}})}function W(e){return h({method:"POST",url:"/video/upload_complete",data:{videoID:e}})}function K(e){return new Promise((function(e,t){setTimeout((function(){e("http://localhost:8080/images/screenshot.jpg")}),2e3)}))}function N(){return h({method:"GET",url:"/user/info"})}function G(e,t,r){return h({method:"POST",url:"/premium/stripe/create_plan",data:{PlanName:e,stripeToken:t.id,stripeEmail:t.email,PPCancelSuccess:r}})}function z(){return h({method:"GET",url:"/account/load"})}function q(e){return h({method:"POST",url:"/account/delete",data:{accountID:e}})}function H(){return h({method:"GET",url:"/destination/load"})}function F(e){return h({method:"POST",url:"/destination/delete",data:{destinationID:e}})}function Y(e,t){return h({method:"POST",url:"/destination/change_privacy",data:{destinationID:e,privacy:t}})}function V(){return h({method:"GET",url:"/team/member/load"})}function J(e,t){return h({method:"POST",url:"/team/member/remove",data:{UID:e,teamID:t}})}function $(e,t){return h({method:"GET",url:"/team/info",params:{teamID:e,code:t}})}function X(e,t){return h({method:"POST",url:"/team/member/apply",data:{teamID:e,code:t}})}function Z(e){return h({method:"POST",url:"/team/member/invite_by_email",data:{emails:e}})}function Q(){return h({method:"GET",url:"/premium/plans"})}function ee(e,t){return h({method:"GET",url:"/destination/image/list",params:{DestID:e,Limit:20,Offset:20*((t=t||1)-1)}})}function te(e,t){return h({method:"GET",url:"/destination/video/list",params:{DestID:e,Limit:20,Offset:20*((t=t||1)-1)}})}function re(){return i()({method:"GET",url:_+"/premium/stripe/fake_renew"})}function oe(e){var t=new URLSearchParams;for(var r in e)t.append(r,e[r]);return i()({method:"POST",url:d+"/user/updateProfile",data:t})}function ne(e){return h({method:"POST",url:"/user/change_password",data:e})}function ae(e){return h({method:"GET",url:"Stripe"===e?"/premium/stripe/cancel_plan":"/premium/paypal/cancel_plan"})}function se(){return h({method:"GET",url:"/premium/coupon"})}function ie(e){return h({method:"POST",url:"/premium/stripe/change_plan",data:{PlanName:e}})}function ce(e){return h({method:"GET",url:"/premium/stripe/preview_upgrade_cost",params:{NewPlanName:e}})}function le(e){return h({method:"GET",url:"/account/token",params:{accountID:e}})}function ue(e,t,r,o,n){return i()({url:"https://content.dropboxapi.com/2/files/upload",method:"POST",headers:{Authorization:"Bearer "+e,"Dropbox-API-Arg":Object(c.q)({path:t,mode:"add",autorename:!0,mute:!1,strict_conflict:!1}),"Content-Type":"application/octet-stream"},data:r,onUploadProgress:function(e){if("video"===n)var t=50+Math.round(Math.round(100*e.loaded/e.total)/2);else t=Math.round(100*e.loaded/e.total);o(t)}})}function de(e,t,r,o,n){var a=new FormData;return a.append("metadata",new Blob([JSON.stringify(r)],{type:"application/json"})),a.append("file",t),i()({url:f,method:"POST",headers:{Authorization:"Bearer "+e},data:a,onUploadProgress:function(e){if("video"===n)var t=50+Math.round(Math.round(100*e.loaded/e.total)/2);else t=Math.round(100*e.loaded/e.total);o(t)}})}function _e(e,t){return i()({url:"https://www.googleapis.com/drive/v3/files/"+t+"/permissions",method:"POST",headers:{Authorization:"Bearer "+e},data:{role:"reader",type:"anyone"}})}function me(e,t,r,o,n,a){var s=new FormData,c={name:r};return c.parent="-1"!==o?{id:o}:{id:"0"},s.append("attributes",JSON.stringify(c)),s.append("file",t),i()({method:"POST",url:p,headers:{Authorization:"Bearer "+e,"Access-Control-Expose-Headers":"WWW-Authenticate"},data:s,onUploadProgress:function(e){if("video"===a)var t=50+Math.round(Math.round(100*e.loaded/e.total)/2);else t=Math.round(100*e.loaded/e.total);n(t)}})}function fe(e){return i()({method:"GET",url:"https://tinyurl.com/api-create.php?url="+e})}function pe(e){return h({method:"GET",url:"/destination/image/upload_to_cloud_done",params:{Service:e}})}function he(e,t){return h({method:"POST",url:"/account/jira_basic_token",data:{accountID:e,token:t}})}function ge(e){return h({method:"GET",url:"/premium/pricing_opened",params:{from:e}})}function Ee(e){return h({method:"POST",url:"/common/contact_us",data:e})}function be(e){return h({method:"POST",url:"/premium/paypal/create_plan",data:{PlanName:e}})}function we(e,t,r){if(!t)t=20;if(!e)e=1;return h({method:"GET",url:"/video/load_user_videos",params:{count:t,page:e,status:r}})}function De(e,t){var r={id:e};return t&&(r.key=t),h({method:"GET",url:"/video/load_video",params:r})}function ve(e){return h({method:"POST",url:"/video/delete_video",data:{videoID:e}})}function Pe(e){return h({method:"POST",url:"/video/convert_to_mp4",data:{videoID:e}})}function Oe(e){return h({method:"GET",url:"/video/get_share_link",params:{id:e}})}function je(e){return h({method:"POST",url:"/video/revoke_share_link",data:{videoID:e}})}function ye(e,t){return h({method:"POST",url:"/video/update_title",data:{videoID:e,title:t}})}function Ue(e){return h({method:"POST",url:"/video/increase_view",data:{videoID:e}})}function Me(e){return h({method:"POST",url:"/video/complete",data:{videoID:e}})}h.interceptors.request.use((function(e){return e}),(function(e){return a.a.error("Network error, Request timeout!"),Promise.reject()})),h.interceptors.response.use((function(e){return e&&e.data&&1===e.data.code?Promise.resolve(e.data.data):(e.data.code,e.data.msg&&"/pricing"!==window.location.pathname?Promise.reject(e.data.msg):void 0)}),(function(e){var t=e.response.status;return a.a.error("Network error! Error Code "+t),Promise.reject(e)})),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(3)).default)&&(l.register(d,"baseUrl","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(_,"baseUrl2","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register("http://www.aws.cn/api/v1","baseUrl4","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(m,"baseUrl3","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register("http://test.awesomescreenshot.com:9900/api/v1","baseUrl5","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register("https://preview.awesomescreenshot.com/api/v1","baseUrl6","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(f,"googleDriveUploadURL","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register("https://content.dropboxapi.com/2/files/upload","dropboxUploadURL","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(p,"boxUploadURL","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(h,"instance","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(g,"signIn","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(E,"uploadImage","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(b,"uploadImageWeb","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(w,"createProject","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(D,"getProjects","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(v,"getUsernameFromCookie","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(P,"getUserTypeFromCookie","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(O,"getUserFromCookie","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(j,"_login","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(y,"_doLogin","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(U,"getAuthUrl","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(M,"getAccountResource","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(T,"addDestination","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(I,"share","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(L,"shareVideo","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(C,"save","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(S,"loadDestination","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(A,"loadAccounts","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(k,"createImage","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(R,"createVideo","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(B,"uploadToS3","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(x,"uploadDone","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(W,"uploadVideoDone","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(K,"getImageUrlById","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(N,"doLoadUserInfo","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(G,"createStripePlan","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(z,"doConnectedAccounts","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(q,"doDeleteConnectedAccount","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(H,"doLoadDestinations","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(F,"doDeleteDestination","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(Y,"doDestinationChangePrivacy","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(V,"doTeamMemberLoad","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(J,"doTeamMemberRemove","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register($,"doTeamInfoLoad","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(X,"doTeamJoin","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(Z,"doTeamMemberInviteByEmail","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(Q,"doLoadPlans","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(ee,"doDestinationLoadScreenshots","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(te,"doDestinationLoadVideos","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(re,"_fake_renew","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(oe,"updateProfile","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(ne,"changePassword","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(ae,"cancelPlan","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(se,"getCoupon","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(ie,"changePlan","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(ce,"getUpgradePreviewCost","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(le,"getToken","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(ue,"uploadToDropbox","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(de,"uploadToGoogleDrive","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(_e,"setGoogleDriveFileSharable","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(me,"uploadToBox","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(fe,"shortUrl","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(pe,"uploadToCloudStatistics","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(he,"submitJiraApiToken","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(ge,"openPricingPage","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(Ee,"contactUs","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(be,"createPaypalPlan","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(we,"loadUserVideos","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(De,"doLoadVideoByID","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(ve,"deleteVideo","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(Pe,"convertVideoToMP4","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(Oe,"generateShareLink","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(je,"revokeShareLink","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(ye,"editVideoTitle","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(Ue,"doIncreaseVideoView","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js"),l.register(Me,"doVideoSetCompete","/Users/luo/Documents/codes/awesomescreenshot-front/src/api.js")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(3)).leaveModule)&&u(e)}).call(this,r(18)(e))},11:function(e,t,r){"use strict";(function(e){r.d(t,"b",(function(){return _})),r.d(t,"n",(function(){return m})),r.d(t,"t",(function(){return f})),r.d(t,"m",(function(){return p})),r.d(t,"j",(function(){return h})),r.d(t,"r",(function(){return g})),r.d(t,"k",(function(){return E})),r.d(t,"l",(function(){return b})),r.d(t,"c",(function(){return w})),r.d(t,"q",(function(){return P})),r.d(t,"i",(function(){return O})),r.d(t,"v",(function(){return j})),r.d(t,"f",(function(){return U})),r.d(t,"g",(function(){return M})),r.d(t,"u",(function(){return I})),r.d(t,"d",(function(){return L})),r.d(t,"s",(function(){return C})),r.d(t,"o",(function(){return S})),r.d(t,"p",(function(){return A})),r.d(t,"e",(function(){return B})),r.d(t,"h",(function(){return x})),r.d(t,"a",(function(){return W}));var o,n,a,s=r(2),i=r.n(s),c=r(44),l=r.n(c),u=r(17),d=r.n(u);function _(e,t,r){function o(e){return e.charCodeAt(0)}t=t||"",r=r||1024;for(var n=atob(e),a=[],s=0;s<n.length;s+=r){var i=n.slice(s,s+r),c=Array.prototype.map.call(i,o),l=new Uint8Array(c);a.push(l)}return new Blob(a,{type:t})}function m(e,t){return new Promise((function(r,o){chrome.cookies.getAll({url:e},(function(e){if("string"==typeof t){var o=e.filter((function(e){return e.name===t}));r(o)}else if(Array.isArray(t)){var n=e.filter((function(e){return-1!==t.indexOf(e.name)}));r(n)}}))}))}function f(e){window.open(e)}function p(e){if(!e)return"";var t="";for(var r in e)t+="**"+r+"**: "+e[r]+" \n";return t}function h(e){if(!e)return"";var t="";return t+="Captured in "+e.Browser+", "+e["Viewport Size"]+" viewport, "+e["Pixel Ratio"]+" pixel ratio, "+e["Zoom Level"]+" zoom, "+e.OS}function g(e){return"[object Array]"===Object.prototype.toString.call(e)}function E(e){if(!e)return"";var t="<table>";for(var r in e)t+="<tr><td><strong>"+r+"</strong></td><td>"+e[r]+"</td></tr>";return t+="</table> \n"}function b(e,t,r){var o={version:1,type:"doc",content:[]};if(e&&e.length&&o.content.push({type:"paragraph",content:[{type:"text",text:e}]}),o.content.push({type:"rule"}),t)for(var n in t){var a={type:"paragraph",content:[{type:"text",text:n+":",marks:[{type:"strong"}]},{type:"text",text:" "+t[n]}]};o.content.push(a)}return r&&(o.content.push({type:"paragraph",content:[{type:"text",text:"Click the link below to watch the video:"}]}),o.content.push({type:"paragraph",content:[{type:"text",text:r,marks:[{type:"link",attrs:{href:r,title:r}}]}]})),o}function w(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function D(e){var t=i()(1e3*e);return i.a.monthsShort(t.month())+". "+t.day()+", "+t.year()}function v(e){return i()(e).format("YYYY/MM/DD HH:mm:ss")}function P(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,(function(e){return"\\u"+("000"+e.charCodeAt(0).toString(16)).slice(-4)}))}function O(e){var t=document.createElement("textarea");t.value=e,t.style.position="absolute",t.style.top="-999999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}function j(e,t,r){var o=[],n=document.createElement("img");n.onload=function(){for(var e=this.height,a=this.width,s=Math.ceil(e/t),i=e%t,c=0;c<s;c++){var l,u,d=document.createElement("canvas"),_=d.getContext("2d");d.width=a,l=u=d.height=c!==s-1?t:i,_.drawImage(n,0,t*c,a,l,0,0,a,u),o.push(d.toDataURL())}r(o)},n.src=e}function y(e){function t(e){return new Promise((function(t,r){var o=new Image;o.onload=function(){t({ele:o,height:o.height,width:o.width})},o.onerror=o.onabort=function(){r(e)},o.src=e}))}for(var r=[],o=0;o<e.length;o++)r.push(t(e[o]));return Promise.all(r)}function U(e){return new Promise((function(t,r){var o=null;y(e).then((function(r){r.forEach((function(r,n){var a=r.width,s=r.height;o?o.addPage([Math.ceil(a),Math.ceil(s)],a>s?"l":"p"):o=new l.a({orientation:a>s?"l":"p",unit:"pt",format:[Math.ceil(a),Math.ceil(s)],compress:!0});var i=document.createElement("canvas"),c=i.getContext("2d");i.width=a,i.height=s,c.drawImage(r.ele,0,0,a,s,0,0,a,s);var u=i.toDataURL("image/jpeg",1);o.addImage(u,"JPEG",0,0,Math.ceil(a),Math.ceil(s),"","FAST"),n===e.length-1&&t(o.output("bloburl"))}))}))}))}function M(e,t){return new Promise((function(t,r){y(e).then((function(e){var r=new l.a({orientation:e[0].width>e[0].height?"l":"p",unit:"pt",format:[Math.ceil(e[0].width),Math.ceil(14400)],compress:!0}),o=14400;e.forEach((function(e,t){for(var n=e.width,a=0,s=e.height;a<e.height;)if(o>0){var i=Math.min(s,o),c=document.createElement("canvas"),l=c.getContext("2d");c.width=n,c.height=i,l.drawImage(e.ele,0,a,n,i,0,0,n,i);var u=c.toDataURL("image/jpeg",1);r.addImage(u,"JPEG",0,14400-o,Math.ceil(n),Math.ceil(i),"","FAST"),a+=i,s-=o,o-=i}else r.addPage({format:[n,14400]}),o=14400})),t(r.output("bloburl"))}))}))}function T(e,t,r){y(e).then((function(e){for(var o=document.createElement("canvas"),n=o.getContext("2d"),a=[],s=0;s<e.length;s++){var i=e[s];o.height=i.height*t,o.width=i.width*t,n.drawImage(i,0,0,i.width,i.height,0,0,i.width*t,i.height*t),a.push(o.toDataURL())}r(a)}))}function I(e){return new Promise((function(e,t){chrome.permissions.request({permissions:["downloads"]},(function(t){t&&e()}))}))}function L(e){var t=e.filename;"true"===localStorage["save-as"]&&localStorage.download_directory&&(e.filename=localStorage.download_directory+"/"+e.filename),chrome.downloads.download(e,(function(r){(void 0===r||chrome.runtime.lastError)&&C(e.url,t)}))}function C(e,t){var r=document.createElement("a"),o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.setAttribute("href",e),r.setAttribute("download",t),r.rel="noopener",r.dispatchEvent(o)}function S(e){if(!e)return"local-image-"+i()().format("YYYY-MM-DD_h_mm");var t=new URL(e),r=t.pathname?t.pathname.split("/").splice(1).join("-")+"-":"";return"AwesomeScreenshot-"+t.hostname.replace(/^https?:\/\/(www\.)?/,"").replace(/^([^\/]+)\.com/,"$1").replace(/[^A-Za-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^[_\-]+/,"").replace(/[_\-]+$/,"")+"-"+r+i()().format("YYYY-MM-DD_h_mm")}function A(e,t){return d()({method:"GET",url:e,responseType:"blob",onDownloadProgress:function(e){var r=Math.round(100*e.loaded/e.total);t&&t(r)}})}function k(e,t){var r=Object.getOwnPropertyNames(e),o=Object.getOwnPropertyNames(t);if(r.length!=o.length)return!1;for(var n=0;n<r.length;n++){var a=r[n];if(e[a]!==t[a])return!1}return!0}function R(e){var t=Math.floor(e/3600),r=e%60;return r<10&&(r="0"+r),(t>0?t+":":"")+Math.floor((e-3600*t)/60)+":"+r}function B(e){return new Promise((function(t,r){var o=window.URL.createObjectURL(e),n=document.createElement("img"),a=document.createElement("canvas"),s=a.getContext("2d");n.onload=function(){a.width=n.width,a.height=n.height,s.drawImage(n,0,0),a.toBlob((function(e){t(e)}))},n.src=o}))}function x(e,t,r){navigator.clipboard.write([new ClipboardItem(Object.defineProperty({},e.type,{value:e,enumerable:!0}))]).then(t,r)}function W(e,t,r,o){var n=document.createElement("canvas"),a=n.getContext("2d"),s="Date Captured: "+i()().format("YYYY/MM/DD")+"  Page URL: "+r,c="single",l=40;a.font="italic 24px Arial";K(a,s,t.width);var u=a.measureText("Date Captured: ").width,d=a.measureText("Page URL: ").width;if(a.font="italic bold 24px Arial",u+d+a.measureText(r).width+a.measureText(i()().format("YYYY/MM/DD")+" ").width>t.width){c="multiple";var _=K(a,"Page URL: "+r,t.width),m=_.length;l=40*(m+1)}n.width=t.width,n.height=t.height+l;var f=URL.createObjectURL(e),p=document.createElement("img");if(p.onload=function(){a.drawImage(p,0,l),n.toBlob((function(e){o(e)}))},p.src=f,a.fillStyle="#ffffff",a.fillRect(0,0,n.width,l),a.restore(),a.fillStyle="#000000",a.textBaseline="top",a.strokeStyle="#000000",a.font="italic 24px Arial","single"===c){a.fillText("Date Captured: ",10,10),a.font="italic bold 24px Arial",a.fillText(i()().format("YYYY/MM/DD")+" ",10+u,10);var h=a.measureText(i()().format("YYYY/MM/DD")+" ").width;a.font="italic 24px Arial",a.fillText("Page URL: ",10+u+h,10),a.font="italic bold 24px Arial",a.fillText(r,10+u+h+d,10)}else{a.fillText("Date Captured: ",10,10),a.font="italic bold 24px Arial",a.fillText(i()().format("YYYY/MM/DD"),10+u,10);for(var g=0;g<_.length;g++)0===g?(a.font="italic 24px Arial",a.fillText("Page URL: ",10,50),a.font="italic bold 24px Arial",a.fillText(_[0].substring(10),10+d,50)):(a.font="italic bold 24px Arial",a.fillText(_[g],10,10+40*(g+1)))}a.beginPath(),a.setLineDash([5,5]),a.moveTo(0,l),a.lineTo(n.width,l),a.stroke()}function K(e,t,r){r-=10;for(var o=t.split(""),n=[],a=o[0],s=1;s<o.length;s++){var i=o[s];e.measureText(a+" "+i).width<r?a+=i:(n.push(a),a=i)}return n.push(a),n}(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(3)).enterModule)&&o(e),(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(3)).default)&&(n.register(_,"b64toBlob","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(m,"getCookie","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(f,"openTab","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(p,"generateTrelloExtraInfoStr","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(h,"generateAsanaExtraInfoStr","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(g,"isArray","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(E,"generateGithubExtraInfoStr","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(b,"generateJiraDescription","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(w,"capitalizeFirstLetter","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(D,"formatDate","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(v,"formatTime","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(P,"http_header_safe_json","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(O,"copyText","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(j,"splitImage","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(y,"preloadImages","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(U,"convertToPDF","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(M,"convertToPDFMultiple","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(T,"resizeImages","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(I,"requestDownloadPermission","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(L,"chromeDownload","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(C,"normalDownload","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(S,"getDownloadFileName","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(A,"getVideoBlob","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(k,"objectIsEquivalent","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(R,"secondsToTime","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(B,"convertJPGtoPNG","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(x,"copyImage","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(W,"addUrltoImage","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js"),n.register(K,"getLines","/Users/luo/Documents/codes/awesomescreenshot-front/src/util/utils.js")),(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(3)).leaveModule)&&a(e)}).call(this,r(18)(e))},214:function(e,t,r){"use strict";(function(e){r(53);var o,n=r(34),a=r.n(n),s=r(0),i=r.n(s),c=(r(261),r(215));function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(3)).enterModule)&&o(e);var u,d,_=function(e){return i.a.createElement(a.a,l({},e,{footer:null,maskClosable:!1,wrapClassName:"sign-in",destroyOnClose:!0,centered:!0}),i.a.createElement(c.a,e))},m=_;t.a=m,(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(3)).default)&&(u.register(_,"SignInModal","/Users/luo/Documents/codes/awesomescreenshot-front/src/components/Modal/SignInModal.js"),u.register(m,"default","/Users/luo/Documents/codes/awesomescreenshot-front/src/components/Modal/SignInModal.js")),(d=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(3)).leaveModule)&&d(e)}).call(this,r(18)(e))},215:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var antd_lib_message_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(46),antd_lib_message_style__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(antd_lib_message_style__WEBPACK_IMPORTED_MODULE_0__),antd_lib_message__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(22),antd_lib_message__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(antd_lib_message__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10),_util_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(11),_SignInPanel_less__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(262),_SignInPanel_less__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_SignInPanel_less__WEBPACK_IMPORTED_MODULE_5__),_SignInForm__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(216),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).enterModule,enterModule&&enterModule(module);var SignInPanel=function(_React$Component){function SignInPanel(e){var t;return _classCallCheck(this,SignInPanel),(t=_possibleConstructorReturn(this,_getPrototypeOf(SignInPanel).call(this,e))).state={isShowSignIn:!1,signInLoading:!1},t.enterSignIn=t.enterSignIn.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleSignInSubmit=t.handleSignInSubmit.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleConnectGoogle=t.handleConnectGoogle.bind(_assertThisInitialized(_assertThisInitialized(t))),t.goToSignUp=t.goToSignUp.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(SignInPanel,_React$Component),_createClass(SignInPanel,[{key:"enterSignIn",value:function(e){e.preventDefault(),this.setState({isShowSignIn:!0})}},{key:"goToSignUp",value:function(){Object(_util_utils__WEBPACK_IMPORTED_MODULE_4__.t)("https://www.awesomescreenshot.com/user/login"),this.props.onCancel()}},{key:"handleSignInSubmit",value:function(e){var t=this;this.setState({signInLoading:!0}),Object(_api__WEBPACK_IMPORTED_MODULE_3__.t)(e).then((function(e){var r=e.data;0==r.ErrorCode?(r.S,t.setState({signInLoading:!1}),t.props.onSignInFinish()):(antd_lib_message__WEBPACK_IMPORTED_MODULE_1___default.a.error(r.ErrorMsg),t.setState({signInLoading:!1}))})).catch((function(e){t.setState({signInLoading:!1}),antd_lib_message__WEBPACK_IMPORTED_MODULE_1___default.a.error("Network error! Please try later!")}))}},{key:"handleConnectGoogle",value:function(){Object(_util_utils__WEBPACK_IMPORTED_MODULE_4__.t)(_api__WEBPACK_IMPORTED_MODULE_3__.b+"/openid/auth2?redirect_url="+encodeURIComponent(chrome.runtime.getURL("aws")))}},{key:"render",value:function(){var e=this.props.type,t=this.state.isShowSignIn;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"sign-in-panel"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"title"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"logo"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("b",null)),"Awesome Screenshot"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p",{className:"tip"},function(e){return"aws"===e?"":"drive"===e?"You need to sign in to an Awesome Screenshot account in order to connect with cloud services.":"des"===e?"You need to sign in to an Awesome Screenshot account in order to connect with other services.":""}(e)),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"box"},t?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"signInForm"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_SignInForm__WEBPACK_IMPORTED_MODULE_6__.a,_extends({},this.state,{onSignInSubmit:this.handleSignInSubmit}))):react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"google-signin-btn",onClick:this.handleConnectGoogle},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"icon"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"18px",height:"18px",viewBox:"0 0 48 48",className:"abcRioButtonSvg"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("g",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fill:"none",d:"M0 0h48v48H0z"})))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",null,"Sign in with Google")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"sign-in-tip"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",{onClick:this.enterSignIn},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("b",null,"Sign in")," with email and password")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"sign-up-tip"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",{onClick:this.goToSignUp},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("b",null,"Create account")," with other email")))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),SignInPanel}(react__WEBPACK_IMPORTED_MODULE_2___default.a.Component),_default=SignInPanel,reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).default,reactHotLoader&&(reactHotLoader.register(SignInPanel,"SignInPanel","/Users/luo/Documents/codes/awesomescreenshot-front/src/components/Modal/SignInPanel.js"),reactHotLoader.register(_default,"default","/Users/luo/Documents/codes/awesomescreenshot-front/src/components/Modal/SignInPanel.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(18)(module))},216:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var antd_lib_button_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25),antd_lib_button_style__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(antd_lib_button_style__WEBPACK_IMPORTED_MODULE_0__),antd_lib_button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(15),antd_lib_button__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(antd_lib_button__WEBPACK_IMPORTED_MODULE_1__),antd_lib_form_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(33),antd_lib_form_style__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(antd_lib_form_style__WEBPACK_IMPORTED_MODULE_2__),antd_lib_form__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),antd_lib_form__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(antd_lib_form__WEBPACK_IMPORTED_MODULE_3__),antd_lib_input_style__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(38),antd_lib_input_style__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(antd_lib_input_style__WEBPACK_IMPORTED_MODULE_4__),antd_lib_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(19),antd_lib_input__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(antd_lib_input__WEBPACK_IMPORTED_MODULE_5__),antd_lib_icon_style__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(35),antd_lib_icon_style__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(antd_lib_icon_style__WEBPACK_IMPORTED_MODULE_6__),antd_lib_icon__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(12),antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),_util_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(11),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).enterModule,enterModule&&enterModule(module);var SignInForm=function(_React$Component){function SignInForm(e){var t;return _classCallCheck(this,SignInForm),(t=_possibleConstructorReturn(this,_getPrototypeOf(SignInForm).call(this,e))).handleSubmit=t.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(t))),t.fp=t.fp.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(SignInForm,_React$Component),_createClass(SignInForm,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields((function(e,r){e||t.props.onSignInSubmit(r)}))}},{key:"fp",value:function(){Object(_util_utils__WEBPACK_IMPORTED_MODULE_9__.t)("https://www.awesomescreenshot.com/user/forgetPassword")}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_form__WEBPACK_IMPORTED_MODULE_3___default.a,{onSubmit:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_form__WEBPACK_IMPORTED_MODULE_3___default.a.Item,null,e("email",{rules:[{required:!0,message:"Please input your email!"}]})(react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_input__WEBPACK_IMPORTED_MODULE_5___default.a,{size:"large",prefix:react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default.a,{type:"user"}),type:"email",placeholder:"Email"}))),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_form__WEBPACK_IMPORTED_MODULE_3___default.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your password!"}]})(react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_input__WEBPACK_IMPORTED_MODULE_5___default.a,{size:"large",prefix:react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default.a,{type:"lock"}),type:"password",placeholder:"Password"}))),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"fp-box"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("a",{className:"fp",onClick:this.fp},"Forget Password")),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_form__WEBPACK_IMPORTED_MODULE_3___default.a.Item,null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_1___default.a,{size:"large",type:"primary",loading:this.props.signInLoading,block:!0,htmlType:"submit"},"Sign In")))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),SignInForm}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component),_default=antd_lib_form__WEBPACK_IMPORTED_MODULE_3___default.a.create()(SignInForm),reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).default,reactHotLoader&&(reactHotLoader.register(SignInForm,"SignInForm","/Users/luo/Documents/codes/awesomescreenshot-front/src/components/Modal/SignInForm.js"),reactHotLoader.register(_default,"default","/Users/luo/Documents/codes/awesomescreenshot-front/src/components/Modal/SignInForm.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(18)(module))},220:function(e,t,r){var o={"./af":58,"./af.js":58,"./ar":59,"./ar-dz":60,"./ar-dz.js":60,"./ar-kw":61,"./ar-kw.js":61,"./ar-ly":62,"./ar-ly.js":62,"./ar-ma":63,"./ar-ma.js":63,"./ar-sa":64,"./ar-sa.js":64,"./ar-tn":65,"./ar-tn.js":65,"./ar.js":59,"./az":66,"./az.js":66,"./be":67,"./be.js":67,"./bg":68,"./bg.js":68,"./bm":69,"./bm.js":69,"./bn":70,"./bn.js":70,"./bo":71,"./bo.js":71,"./br":72,"./br.js":72,"./bs":73,"./bs.js":73,"./ca":74,"./ca.js":74,"./cs":75,"./cs.js":75,"./cv":76,"./cv.js":76,"./cy":77,"./cy.js":77,"./da":78,"./da.js":78,"./de":79,"./de-at":80,"./de-at.js":80,"./de-ch":81,"./de-ch.js":81,"./de.js":79,"./dv":82,"./dv.js":82,"./el":83,"./el.js":83,"./en-SG":84,"./en-SG.js":84,"./en-au":85,"./en-au.js":85,"./en-ca":86,"./en-ca.js":86,"./en-gb":87,"./en-gb.js":87,"./en-ie":88,"./en-ie.js":88,"./en-il":89,"./en-il.js":89,"./en-nz":90,"./en-nz.js":90,"./eo":91,"./eo.js":91,"./es":92,"./es-do":93,"./es-do.js":93,"./es-us":94,"./es-us.js":94,"./es.js":92,"./et":95,"./et.js":95,"./eu":96,"./eu.js":96,"./fa":97,"./fa.js":97,"./fi":98,"./fi.js":98,"./fo":99,"./fo.js":99,"./fr":100,"./fr-ca":101,"./fr-ca.js":101,"./fr-ch":102,"./fr-ch.js":102,"./fr.js":100,"./fy":103,"./fy.js":103,"./ga":104,"./ga.js":104,"./gd":105,"./gd.js":105,"./gl":106,"./gl.js":106,"./gom-latn":107,"./gom-latn.js":107,"./gu":108,"./gu.js":108,"./he":109,"./he.js":109,"./hi":110,"./hi.js":110,"./hr":111,"./hr.js":111,"./hu":112,"./hu.js":112,"./hy-am":113,"./hy-am.js":113,"./id":114,"./id.js":114,"./is":115,"./is.js":115,"./it":116,"./it-ch":117,"./it-ch.js":117,"./it.js":116,"./ja":118,"./ja.js":118,"./jv":119,"./jv.js":119,"./ka":120,"./ka.js":120,"./kk":121,"./kk.js":121,"./km":122,"./km.js":122,"./kn":123,"./kn.js":123,"./ko":124,"./ko.js":124,"./ku":125,"./ku.js":125,"./ky":126,"./ky.js":126,"./lb":127,"./lb.js":127,"./lo":128,"./lo.js":128,"./lt":129,"./lt.js":129,"./lv":130,"./lv.js":130,"./me":131,"./me.js":131,"./mi":132,"./mi.js":132,"./mk":133,"./mk.js":133,"./ml":134,"./ml.js":134,"./mn":135,"./mn.js":135,"./mr":136,"./mr.js":136,"./ms":137,"./ms-my":138,"./ms-my.js":138,"./ms.js":137,"./mt":139,"./mt.js":139,"./my":140,"./my.js":140,"./nb":141,"./nb.js":141,"./ne":142,"./ne.js":142,"./nl":143,"./nl-be":144,"./nl-be.js":144,"./nl.js":143,"./nn":145,"./nn.js":145,"./pa-in":146,"./pa-in.js":146,"./pl":147,"./pl.js":147,"./pt":148,"./pt-br":149,"./pt-br.js":149,"./pt.js":148,"./ro":150,"./ro.js":150,"./ru":151,"./ru.js":151,"./sd":152,"./sd.js":152,"./se":153,"./se.js":153,"./si":154,"./si.js":154,"./sk":155,"./sk.js":155,"./sl":156,"./sl.js":156,"./sq":157,"./sq.js":157,"./sr":158,"./sr-cyrl":159,"./sr-cyrl.js":159,"./sr.js":158,"./ss":160,"./ss.js":160,"./sv":161,"./sv.js":161,"./sw":162,"./sw.js":162,"./ta":163,"./ta.js":163,"./te":164,"./te.js":164,"./tet":165,"./tet.js":165,"./tg":166,"./tg.js":166,"./th":167,"./th.js":167,"./tl-ph":168,"./tl-ph.js":168,"./tlh":169,"./tlh.js":169,"./tr":170,"./tr.js":170,"./tzl":171,"./tzl.js":171,"./tzm":172,"./tzm-latn":173,"./tzm-latn.js":173,"./tzm.js":172,"./ug-cn":174,"./ug-cn.js":174,"./uk":175,"./uk.js":175,"./ur":176,"./ur.js":176,"./uz":177,"./uz-latn":178,"./uz-latn.js":178,"./uz.js":177,"./vi":179,"./vi.js":179,"./x-pseudo":180,"./x-pseudo.js":180,"./yo":181,"./yo.js":181,"./zh-cn":182,"./zh-cn.js":182,"./zh-hk":183,"./zh-hk.js":183,"./zh-tw":184,"./zh-tw.js":184};function n(e){var t=a(e);return r(t)}function a(e){if(!r.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id=220},261:function(e,t,r){},262:function(e,t,r){},686:function(e,t,r){"use strict";r.r(t),function(e){r(687);var t,o=r(376),n=r.n(o),a=(r(187),r(28)),s=r.n(a),i=(r(232),r(188)),c=r.n(i),l=(r(35),r(12)),u=r.n(l),d=(r(46),r(22)),_=r.n(d),m=(r(25),r(15)),f=r.n(m),p=(r(33),r(5)),h=r.n(p),g=(r(53),r(34)),E=r.n(g),b=(r(38),r(19)),w=r.n(b),D=r(0),v=r.n(D),P=r(13),O=r.n(P),j=r(10),y=r(214),U=r(11);r(689);function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(t){T(e,t,r[t])}))}return e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],o=!0,n=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(o=(s=i.next()).done)&&(r.push(s.value),!t||r.length!==t);o=!0);}catch(e){n=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(n)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(t=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(3)).enterModule)&&t(e);var L=w.a.TextArea,C=E.a.confirm,S=function(e){var t=e.getDate(),r=e.getMonth(),o=e.getFullYear();return["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"][r]+" "+t+", "+o},A=null,k="";window.needUpload="",window.bindEvents=!1;var R,B,x=function(e){var t=e.form.getFieldDecorator;return v.a.createElement(h.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(t,r){t||e.onSubmit(r)}))}},v.a.createElement(h.a.Item,null,t("title",{rules:[{required:!0,message:"Title can't be empty!"}],initialValue:e.defaultValue})(v.a.createElement(L,null))),v.a.createElement(h.a.Item,{className:"video-edit-title-btn-area"},v.a.createElement(f.a,{onClick:e.onCancel},"Cancel"),v.a.createElement(f.a,{type:"primary",htmlType:"submit",loading:e.isLoading},"Done")))},W=h.a.create({name:"title"})(x),K=function(e){var t=chrome.extension.getBackgroundPage(),r=I(Object(D.useState)(null),2),o=r[0],a=r[1],i=I(Object(D.useState)("upload"),2),l=i[0],d=i[1],m=I(Object(D.useState)("upload"),2),p=m[0],h=m[1],g=I(Object(D.useState)("upload"),2),b=g[0],P=g[1],O=I(Object(D.useState)(0),2),L=O[0],R=O[1],B=I(Object(D.useState)(0),2),x=B[0],K=B[1],N=I(Object(D.useState)(0),2),G=N[0],z=N[1],q=I(Object(D.useState)(!1),2),H=q[0],F=q[1],Y=I(Object(D.useState)(!1),2),V=Y[0],J=Y[1],$=I(Object(D.useState)(!1),2),X=$[0],Z=$[1],Q=I(Object(D.useState)(t.googleOAuth.getAccount().email),2),ee=Q[0],te=Q[1],re=I(Object(D.useState)(!1),2),oe=re[0],ne=re[1],ae=Object(D.useRef)(null);Object(D.useEffect)((function(){return null!==o&&""===o.detail.thumbnailUrl&&ae.current.addEventListener("canplay",(function(){se()})),document.addEventListener("visibilitychange",ie),function(){document.removeEventListener("visibilitychange",ie)}}),[o,l]),Object(D.useEffect)((function(){var e=new URLSearchParams(window.location.search);(k=parseInt(e.get("id")))&&DB.init().then((function(){DB.get(k).then((function(e){a(e),e.detail.youtubeUrl&&h("uploaded"),e.detail.gDriveUrl&&P("uploaded"),e.detail.awsUrl&&d("uploaded"),ae.current.currentTime=99999999}))})),chrome.cookies.get({url:"https://www.awesomescreenshot.com",name:"screenshot_personal_type"},(function(e){e?0==e.value&&ne(!0):ne(!0)}))}),[]);var se=function(){var e=document.createElement("canvas");e.width=320,e.height=180;var t=e.getContext("2d"),r=ae.current;t.drawImage(r,0,0,e.width,e.height);e.toBlob((function(e){fileSaver.save(e,o.id+"_thumbnail.png").then((function(e){var t=M({},o,{detail:M({},o.detail,{thumbnailUrl:e})});a(t),DB.update(k,t)}))}))},ie=function(){"visible"===document.visibilityState&&window.needUpload&&me()},ce=function(e){return new Promise((function(t,r){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="blob",o.onload=function(e){if(200==this.status){var r=this.response;t(r)}},o.send()}))},le=function(e,t){var r=M({},o,{detail:M({},o.detail,T({},e+"Url",t))});a(r),DB.update(k,r),"aws"===e&&chrome.tabs.create({url:t})},ue=function(e){K(e)},de=function(e){z(e)},_e=function(){Object(j.m)().then((function(e){if(e&&e.username){d("uploading");var t="";o&&o.detail?o.detail.title:window.needUpload.title,o&&o.detail?o.fileUrl:window.needUpload.fileUrl;window.needUpload="",Object(j.g)({title:o.detail.title}).then((function(e){return t=e.videoID,ce(o.fileUrl).then((function(t){A||(A=new File([t],"AwesomeScreenshot-"+(new Date).toISOString().replace(/:|\./g,"-")+".webm",{type:"video/webm"}));var r={AWSAccessKeyId:"AKIAJSCJQ2NM3XLFPVKA",acl:"private",key:e.s3Key,"Content-Type":"video/webm",policy:e.policy,signature:e.signature,file:A};return Object(j.B)(r,R,e.s3URI)}))})).then((function(e){return Object(j.C)(t).then((function(e){le("aws",e.videoURI),d("uploaded")}))})).catch((function(e){d("upload")}))}else window.needUpload={title:o.detail.title,fileUrl:o.fileUrl},F(!0)}))},me=function(){F(!1),_e()},fe=function(){J(!1)},pe=function(){chrome.tabs.create({url:o.detail.awsUrl})},he=function(e){Object(U.i)(e),_.a.success("Link has been copied to your clipboard!")},ge=function(e,t,r){if("youtube"===e)var n="#cc181e";else if("gDrive"===e)n="#4285f4";else n="";return v.a.createElement("div",{className:"upload-area"},"uploading"===t&&v.a.createElement(c.a,{percent:r,status:"active",showInfo:!1,size:"small",strokeColor:n}),"uploaded"===t&&function(e){return"aws"===e?v.a.createElement("div",{className:"view-btn",onClick:pe},v.a.createElement("img",{className:"icon",src:"images/icon_viewOnAS.svg"}),"View on Awesome Screenshot"):v.a.createElement(w.a,{defaultValue:o.detail[e+"Url"],prefix:v.a.createElement(u.a,{type:"link"}),onClick:he.bind(null,o.detail[e+"Url"])})}(e))};return v.a.createElement("div",{className:"videoPage"},o?v.a.createElement("div",{className:"main-container"},v.a.createElement("div",{className:"video-title",id:"video-title"},v.a.createElement("span",{className:"display-text",id:"display-text",title:"Edit name",onClick:function(){J(!0)}},v.a.createElement("span",{className:"text"},o.detail.title),v.a.createElement(u.a,{type:"edit"})),v.a.createElement("div",{className:"video-action"},v.a.createElement(s.a,{title:"My local recordings"},v.a.createElement(u.a,{className:"video-action-btn",type:"appstore",onClick:function(){window.location.href="/video-list.html"}})),v.a.createElement(s.a,{title:"Delete"},v.a.createElement(u.a,{className:"video-action-btn",type:"delete",onClick:function(){C({title:"Are you sure to delete this video?",okText:"Yes, delete",okType:"danger",cancelText:"No",onOk:function(){DB.delete(k).then((function(e){window.location.href="/video-list.html"}))},onCancel:function(){}})}})))),v.a.createElement("div",{className:"video-container"},v.a.createElement("div",{className:"video-box"},v.a.createElement("video",{id:"video",controls:!0,src:o.fileUrl,ref:ae}),v.a.createElement("div",{className:"video-tip"},"Note: this video is temporarily saved under Local screen videos and might be lost due to unexpected system or browser error. We suggest you upload it to YouTube or Google Drive, or download it to local to avoid any possible data loss.")),v.a.createElement("div",{className:"info-box"},v.a.createElement("div",{className:"info-group"},v.a.createElement("div",{className:"group-title"},"Video Information"),v.a.createElement("div",{className:"info-item"},v.a.createElement("div",{className:"info-item-title"},"Date Created:"),v.a.createElement("span",{id:"info-time"},S(new Date(o.detail.timeStamp)))),v.a.createElement("div",{className:"info-item"},v.a.createElement("div",{className:"info-item-title"},"Video Length:"),v.a.createElement("span",{id:"info-duration"},o.detail.duration)),v.a.createElement("div",{className:"info-item"},v.a.createElement("div",{className:"info-item-title"},"Video Size:"),v.a.createElement("span",{id:"info-size"},o.detail.size))),v.a.createElement("div",{className:"info-group"},v.a.createElement("div",{className:"group-title"},"Save to Awesome Screenshot"),v.a.createElement("div",{className:"info-group-box"},"upload"===l?v.a.createElement(f.a,{className:"uploadAwsBtn",block:!0,type:"primary",onClick:_e},"Upload to get shareable link"):ge("aws",l,L))),v.a.createElement("div",{className:"info-group"},v.a.createElement("div",{className:"group-title"},"Save to cloud"),v.a.createElement("div",{className:"upload-item",id:"youtube-upload"},v.a.createElement("div",{className:"subtitle"},v.a.createElement("img",{src:"images/youtube.svg",alt:""}),"YouTube",v.a.createElement("div",{className:"upload-action"},"uploaded"!==p&&v.a.createElement(f.a,{type:"primary",size:"small",onClick:function(){return ce(o.fileUrl).then((function(e){return A||(A=new File([e],o.detail.title+".webm",{type:"video/webm"})),h("uploading"),uploadVideo.uploadToYoutube(A,ue)})).then((function(e){le("youtube","https://youtu.be/"+e.id),h("uploaded")})).catch((function(e){h("upload")}))},disabled:"upload"!==p},"upload"===p?"Upload":"Uploading"))),v.a.createElement("div",{className:"upload-item-detail"},ge("youtube",p,x))),v.a.createElement("div",{className:"upload-item",id:"gDrive-upload"},v.a.createElement("div",{className:"subtitle"},v.a.createElement("img",{src:"images/google-drive.svg",alt:""}),"Google Drive",v.a.createElement("div",{className:"upload-action"},"uploaded"!==b&&v.a.createElement(f.a,{type:"primary",size:"small",onClick:function(){return ce(o.fileUrl).then((function(e){return A||(A=new File([e],o.detail.title+".webm",{type:"video/webm"})),P("uploading"),uploadVideo.uploadToGoogleDrive(A,de)})).then((function(e){le("gDrive",e.alternateLink),P("uploaded")})).catch((function(e){P("upload")}))},disabled:"upload"!==b},"upload"===b?"Upload":"Uploading"))),v.a.createElement("div",{className:"upload-item-detail"},ge("gDrive",b,G))),ee&&v.a.createElement("div",{className:"current-account",id:"current-account"},"Current account:",v.a.createElement(n.a,{content:v.a.createElement("div",{className:"notice",id:"notice"},"NOTICE: If you want to save video to another google account, please clear the authentication in awesome screenshot.",v.a.createElement("a",{className:"gdrive-signout",onClick:function(){t.googleOAuth.clearAccount(),te(""),Z(!1)}},"Click to clear Authentication")),trigger:"click",visible:X,onVisibleChange:function(e){Z(e)}},v.a.createElement("span",{className:"current-account-email",id:"c-email"},ee)))),v.a.createElement("div",{className:"info-group"},v.a.createElement("div",{className:"group-title"},"Download"),v.a.createElement("div",{className:"info-item"},v.a.createElement("div",{className:"subtitle"},"In WebM format",v.a.createElement(f.a,{className:"action-btn download-btn",type:"primary",size:"small",onClick:function(){chrome.permissions.request({permissions:["downloads"]},(function(e){e&&ce(o.fileUrl).then((function(e){var t=o.detail.title.replace(/(\.|\:)/g," ").replace(/[#$~!@%^&*();'"?><\[\]{}\|,:\/=+]/g," ")+".webm";if(t=t.replace(/\s+/g,"_"),e.size<1442116762)try{!function(e,t){if("undefined"==typeof EBML)throw new Error("Please link: https://cdn.webrtc-experiment.com/EBML.js");var r=new EBML.Reader,o=new EBML.Decoder,n=EBML.tools,a=new FileReader;a.onload=function(e){o.decode(this.result).forEach((function(e){r.read(e)})),r.stop();var a=n.makeMetadataSeekable(r.metadatas,r.duration,r.cues),s=this.result.slice(r.metadataSize),i=new Blob([a,s],{type:"video/webm"});t(i)},a.readAsArrayBuffer(e)}(e,(function(e){var r={url:URL.createObjectURL(e),filename:t,saveAs:!0};Object(U.d)(r)}))}catch(o){var r={url:URL.createObjectURL(e),filename:t,saveAs:!0};Object(U.d)(r)}else{r={url:URL.createObjectURL(e),filename:o.detail.title+".webm",saveAs:!0};Object(U.d)(r)}}))}))}},"Download")))),oe&&v.a.createElement("div",{className:"tip"},"Recording length is limited to",v.a.createElement("span",null," 5 minutes"),". Upgrade to unlock the unlimited recordings.",v.a.createElement("div",null,v.a.createElement("a",{className:"upgrade-btn",id:"upgrade-btn",onClick:function(){chrome.extension.getBackgroundPage().goToUpgrade("Record_final")}},"UPGRADE"))))),v.a.createElement(y.a,{visible:H,onCancel:function(){F(!1)},onSignInFinish:me}),v.a.createElement(E.a,{title:v.a.createElement(v.a.Fragment,null,v.a.createElement(u.a,{className:"title-icon",type:"edit"}),v.a.createElement("span",{className:"title"},"Edit Title")),destroyOnClose:!0,maskClosable:!1,visible:V,className:"video-modal",footer:null,onCancel:fe},v.a.createElement("div",{className:"edit-area"},v.a.createElement(W,{defaultValue:o.detail.title,onCancel:fe,onSubmit:function(e){var t=M({},o,{detail:M({},o.detail,{title:e.title})});a(t),DB.update(k,t),J(!1)},isLoading:!1})))):"")};O.a.render(v.a.createElement(K,null),document.getElementById("video-page-wrapper")),(R=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(3)).default)&&(R.register(L,"TextArea","/Users/luo/Documents/codes/awesomescreenshot-front/src/container/VideoPage.js"),R.register(C,"confirm","/Users/luo/Documents/codes/awesomescreenshot-front/src/container/VideoPage.js"),R.register(S,"formatDate","/Users/luo/Documents/codes/awesomescreenshot-front/src/container/VideoPage.js"),R.register(A,"file","/Users/luo/Documents/codes/awesomescreenshot-front/src/container/VideoPage.js"),R.register(k,"id","/Users/luo/Documents/codes/awesomescreenshot-front/src/container/VideoPage.js"),R.register(x,"EditTitle","/Users/luo/Documents/codes/awesomescreenshot-front/src/container/VideoPage.js"),R.register(W,"EditTitleForm","/Users/luo/Documents/codes/awesomescreenshot-front/src/container/VideoPage.js"),R.register(K,"VideoPage","/Users/luo/Documents/codes/awesomescreenshot-front/src/container/VideoPage.js")),(B=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:r(3)).leaveModule)&&B(e)}.call(this,r(18)(e))},689:function(e,t,r){}});